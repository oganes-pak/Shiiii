# USB Encryptor

## Описание программы
USB Encryptor — это приложение на Python с графическим интерфейсом (Kivy), предназначенное для шифрования и расшифрования файлов на USB-накопителях. Программа использует простой метод шифрования на основе XOR и кодировки Base64, а также позволяет пользователю управлять шифрованием через удобный GUI.

Программа разработана исключительно в **научных и учебных целях** для демонстрации принципов работы с файловыми системами и алгоритмов шифрования. Она **не предназначена** для защиты конфиденциальных данных, поскольку используемый метод шифрования не является криптографически стойким.

---

## Функциональные возможности
- Автоматическое **обнаружение подключенных USB-устройств** и обновление списка дисков.
- **Шифрование файлов** с использованием пароля, введенного пользователем.
- **Расшифрование файлов**, если пароль введен правильно.
- **Резервное копирование** файлов перед шифрованием.
- **Прогресс-бар** и возможность отмены операции.
- Переключение между **светлой и темной темой** интерфейса.

---

## Алгоритм работы
### 1. Определение USB-устройств
- Программа получает список подключенных дисков, исключая системные.
- При обнаружении нового USB-накопителя выводится уведомление.
- Обновление списка происходит каждые 2 секунды.

### 2. Шифрование файлов
- Пользователь выбирает диск и вводит пароль.
- Создается папка `Backup`, куда копируются файлы перед шифрованием.
- Каждый файл читается побайтово, и к каждому байту применяется **XOR с паролем**.
- Результат кодируется в **Base64** и сохраняется обратно.
- В корневую папку диска записывается файл `control.txt`, содержащий зашифрованный маркер для проверки пароля.

### 3. Расшифрование файлов
- Пользователь вводит пароль.
- Программа читает `control.txt` и расшифровывает маркер.
- Если пароль неверен, расшифрованное слово не совпадает с оригиналом.
- При правильном пароле файлы декодируются и сохраняются в исходном виде.

### 4. Управление процессом
- Во время шифрования/дешифрования отображается **прогресс-бар**.
- При нажатии кнопки «Отмена» процесс прерывается.

---

## Возможные уязвимости и угрозы
### 1. **Ненадежное шифрование (XOR + Base64)**
- XOR легко взламывается, если известен хотя бы один фрагмент исходного текста.
- Base64 — это не защита, а лишь способ кодирования данных.
- Пароль не проходит хеширование, что делает возможным атаку перебором (brute force).

### 2. **Отсутствие защиты от подмены `control.txt`**
- Если злоумышленник заменит `control.txt` заранее подготовленным файлом, он сможет заставить программу принять неверный пароль.

### 3. **Отсутствие проверки резервной копии**
- Программа создает `Backup`, но не использует его при расшифровке.
- Если пользователь введет неверный пароль, он может перезаписать файлы поврежденной версией.

### 4. **Отсутствие подтверждения перед перезаписью**
- Нет диалогового окна с предупреждением перед изменением файлов.
- Пользователь может случайно потерять оригинальные данные.

---

## Улучшения для повышения безопасности
### ✅ **Использование AES вместо XOR**
- Реализовать шифрование с использованием **AES (Advanced Encryption Standard)**.
- Библиотека `cryptography` предоставляет надежные методы шифрования.

### ✅ **Хеширование пароля**
- Вместо прямого использования пароля в XOR применять **SHA-256** для получения ключа.
- Это предотвратит атаку на основе анализа зашифрованных данных.

### ✅ **Проверка резервной копии перед перезаписью**
- При расшифровании сначала сравнивать контрольную сумму с оригиналом.
- Предлагать восстановление данных из `Backup`.

### ✅ **Добавление подтверждений перед шифрованием**
- Показывать пользователю предупреждение перед изменением файлов.
- Добавить возможность отмены перед стартом процесса.

---

## Заключение
Программа **USB Encryptor** разработана исключительно для **исследовательских и образовательных целей**. Она демонстрирует основные принципы работы с файловыми системами и шифрования данных, но **не должна использоваться для защиты конфиденциальной информации**.

Если вам нужна **реальная безопасность**, используйте современные криптографические библиотеки, такие как `cryptography` или `PyCryptodome`, и избегайте XOR-шифрования без дополнительной защиты.

---

## Разработчик
- **Имя:** [Ваше имя / Никнейм]
- **Контакты:** [Ваш email / GitHub / Telegram]
- **Лицензия:** MIT (или любая другая по вашему выбору)

